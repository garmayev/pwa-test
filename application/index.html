<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="theme-color" content="#fff">
        <meta name="viewport" content="width=device-width">
        <meta name="description" content="AMG Company Application">
        <link rel="apple-touch-icon" href="/images/logo512.png">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css"
              integrity="sha512-nMNlpuaDPrqlEls3IX/Q56H36qvBASwb3ipuo3MxeWbsQB1881ox0cRv7UPTgBlriqoynt35KjEwgGUeUXIPnw=="
              crossorigin="anonymous" referrerpolicy="no-referrer"/>
        <link rel="stylesheet"
              href="//cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"/>
        <link rel="manifest" href="/manifest.json" type="application/manifest+json">
        <title>Application</title>
        <script crossorigin src="//code.jquery.com/jquery-3.2.1.min.js"></script>
        <script crossorigin src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script crossorigin src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"
                integrity="sha512-2ImtlRlf2VVmiGZsjm9bEyhjGW4dU7B6TNwh/hx/iSByxNENtj3WVE6o/9Lj4TJeVXPi4bnOIMXFIJJAeufa0A=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="/script.js"></script>
        <script type="module">
            import Helper from "./js/components/Helper.js";
            import Select2 from './js/components/Select2.js';
            import Application from "./js/application.js";

            customElements.defineclone = Object.assign(Object.create(Object.getPrototypeOf(customElements)).define, customElements);
            customElements.define = (name, element) => customElements.get(name) || customElements.defineclone(name, element);

            customElements.get('my-select') || customElements.define('my-select', Select2, {extends: 'div'});

            let csrf = Helper.ajax('//api.local/v1/default/csrf');
            console.log(csrf);
            window.csrf = csrf;

            window.app = new Application({container: document.querySelector('#root')})
            window.app.render();
        </script>
        <link rel="stylesheet" href="./css/style.css">
    </head>
    <body>
        <div id="root"></div>
        <p>
            <button id="select-contacts" disabled=""></button>
        </p>

        <h3>Selected contacts</h3>
        <section id="contacts"></section>
    </body>
</html>